(()=>{const e=()=>{if(new URLSearchParams(window.location.search).get("q")){const e=document.querySelectorAll("div.g");let o="",t=!1;e.forEach((e=>{const t=e.querySelector("h3");t&&t.innerText.toLowerCase().includes("movie")&&(o=t.innerText)})),o&&(console.log("Movie detected in content script:",o),chrome.runtime.sendMessage({action:"movieDetected",movieTitle:o})),t&&chrome.runtime.sendMessage({action:"openPopup"})}};window.location.href.includes("google.com/search")&&"complete"===document.readyState?e():window.addEventListener("load",e)})();