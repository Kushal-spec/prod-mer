(()=>{const e=new URLSearchParams(window.location.search).get("q");e&&(async e=>{const o=await fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("fb42209d626116b8286ba5ce3df54d29","&query=").concat(e));return(await o.json()).results[0]})(e).then((e=>{chrome.storage.local.set({currentMovie:e}),chrome.storage.local.get(["movieHistory"],(o=>{const t=o.movieHistory||[];t.push(e),chrome.storage.local.set({movieHistory:t})}))}))})();